
  /* ========= THEME TOKENS ========= */
  :root {
    /* Dark (default) â€” using your original palette */
    --bg:#0b1020;
    --text:#e9eef9;
    --muted:#9aa3b2;
    --accent:#6ea8fe;
    --ring:#2a3358;

    --card:#111833;   /* main card */
    --card2:#0e1530;  /* sub card */
    --input-bg:#0e1530;
    --btn-bg:#0f1a3d;
    --warn-bg:#2d1f00;
    --warn-ring:#5b3f00;

    --table-border:#232c52;
    --shadow:0 10px 30px rgba(0,0,0,.25);
  }

:root {
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 16px;
  --space-4: 24px;
  --space-5: 32px;
  --ctrl-h: 40px;
  --radius: 8px;
}

  /* Light theme overrides */
  [data-theme="light"]{
    --bg:#f6f7fb;
    --text:#0e1325;
    --muted:#55607a;
    --accent:#2557e0;
    --ring:#d3daf0;

    --card:#ffffff;
    --card2:#f1f4fe;
    --input-bg:#ffffff;
    --btn-bg:#e9edfb;
    --warn-bg:#fff3cd;
    --warn-ring:#ffe08a;

    --table-border:#e2e7fb;
    --shadow:0 6px 18px rgba(0,0,0,.08);
  }

  /* ========= BASE ========= */
  *{box-sizing:border-box}
  html,body{height:100%}
  body{margin:0;font-family:Segoe UI,Roboto,Arial,ui-sans-serif;background:var(--bg);color:var(--text);transition:background .25s ease,color .25s ease}
  .container{max-width:1100px;margin:24px auto;padding:0 16px}

  .header{display:flex;align-items:center;justify-content:space-between;gap: var(--space-2)}
  .title{font-size:28px;font-weight:800}
  .subtitle{color:var(--muted);font-size:14px}

  .card{background:var(--card);border:1px solid var(--ring);border-radius: calc(var(--radius) * 2);box-shadow:var(--shadow)}
  .pad{padding: var(--space-3)}
  .grid{display:grid;gap: var(--space-2)}
  .g4{grid-template-columns:repeat(4,minmax(0,1fr))}
  .g3{grid-template-columns:repeat(3,minmax(0,1fr))}
  @media(max-width:900px){.g4{grid-template-columns:repeat(2,minmax(0,1fr))}}
  @media(max-width:600px){.g4,.g3{grid-template-columns:1fr}}

  label{font-size:12px;color:var(--muted);display:block;margin:0 0 6px}
  input,select,button,textarea{font:inherit}

  .input,.select{width:100%;padding: var(--space-2);border-radius: var(--radius);border:1px solid var(--ring);background:var(--input-bg);color:var(--text);outline:none;transition:background .2s ease,border-color .2s ease}
  .btn{border:1px solid var(--ring);background:var(--btn-bg);color:var(--text);padding: var(--space-2) 14px;border-radius: var(--radius);cursor:pointer;transition:filter .15s ease,opacity .15s ease}
  .btn:hover{filter:brightness(1.05)}
  .btn.primary{border-color:transparent;background:var(--accent);color:#fff}
  .btn.warn{background:var(--warn-bg);border-color:var(--warn-ring);color:#4f2a00}

  .row{display:flex;gap: var(--space-2);flex-wrap:wrap;align-items:center}
  .pill{display:inline-flex;align-items:center;gap:8px;padding:8px 10px;background:var(--card2);border:1px solid var(--ring);border-radius:999px}
  .pill .select{padding: var(--space-1) 10px}

  table{width:100%;border-collapse:collapse}
  th,td{padding: var(--space-2); vertical-align: middle;}
  th:first-child,td:first-child{text-align:left}
  th{color:var(--muted);font-size:13px}
  .mono{font-variant-numeric:tabular-nums}
  .right{text-align:right}
  .spacer{height: var(--ctrl-h)}
  .note{color:var(--muted);font-size:12px}
  .subtle{color:var(--muted)}
  .mini{font-size:12px}
  .table-sm th,.table-sm td{padding: var(--space-1) var(--space-2);}
  .total-row td{font-weight:800;border-top:2px solid var(--ring);border-bottom:none}
  .badge{display:inline-block;padding:2px 8px;border-radius:999px;background:var(--card2);border:1px solid var(--ring);font-size:12px}

  /* Section card variants that previously used hardcoded colors */
  .subcard{background:var(--card2);border:1px solid var(--ring);border-radius: calc(var(--radius) * 2)}
  .subcard .pad{padding: var(--space-3)}

  /* Range pill spacing */
  #rangePill { gap:8px }
  #rangePill .input { padding: var(--space-1) 10px }
  #rangePill .btn { padding:8px 10px }

  /* === Recap styles === */
  .recap{display:grid;gap: var(--space-2);grid-template-columns:repeat(4,minmax(0,1fr));margin:6px 0 0}
  .recap-item{display:flex;align-items:center;gap: var(--space-2);background:var(--card2);border:1px solid var(--ring);border-radius: var(--radius);padding: var(--space-2)}
  .recap-item .label{font-size:12px;color:var(--muted)}
  .recap-item .value{font-weight:800;font-variant-numeric:tabular-nums}
  @media(max-width:900px){.recap{grid-template-columns:repeat(2,minmax(0,1fr))}}
  @media(max-width:600px){.recap{grid-template-columns:1fr}}


/* === Custom red warning buttons === */
.btn.warn {
  background: #d93025 !important; /* Red tone */
  border-color: #a12016 !important;
  color: #fff !important;
}
.btn.warn:hover {
  filter: brightness(1.1);
}


/* === Filter bar consistency === */
.pill {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: var(--space-1) 10px;
  background: var(--card2);
  border: 1px solid var(--ring);
  border-radius: 999px;
}

.pill select,
.pill input,
.pill button {
  height: var(--ctrl-h);            /* consistent height */
  padding: 0 10px;
  font-size: 13px;
  border-radius: 6px;
}

.pill select {
  min-width: 130px;        /* proportion for dropdown */
}

.pill input[type="date"] {
  min-width: 140px;        /* proportion for date inputs */
}

.pill button {
  white-space: nowrap;
}


/* Force all controls inside pill to be equal height */
.pill select,
.pill input[type="date"],
.pill button {
  height: var(--ctrl-h) !important;       /* exact same height */
  line-height: var(--ctrl-h);
  padding: 0 10px !important;     /* same padding */
  font-size: 13px;
  border-radius: 6px;
  box-sizing: border-box;
}

/* Make date picker icon vertically aligned */
.pill input[type="date"] {
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
}


/* ===== Modal ===== */
.modal-backdrop{
  position:fixed; inset:0; background:rgba(0,0,0,.55); backdrop-filter:saturate(120%) blur(2px);
  z-index:9998;
}
.modal{
  position:fixed; inset:0; display:grid; place-items:center; z-index:9999;
}
.modal[hidden], .modal-backdrop[hidden]{ display:none !important; }

.modal > *{
  width:min(560px, calc(100% - 32px));
  background:var(--card);
  color:var(--text);
  border:1px solid var(--ring);
  border-radius: calc(var(--radius) * 2);
  box-shadow:var(--shadow);
}

.modal-header{
  display:flex; align-items:center; justify-content:space-between; gap: var(--space-2);
  padding: var(--space-2) 16px; border-bottom:1px solid var(--ring);
}
.modal-title{ font-weight:800; font-size:16px; }
.modal-close{
  background:transparent; border:1px solid var(--ring); color:var(--text);
  border-radius: var(--radius); padding: var(--space-1) 10px; cursor:pointer;
}

.modal-body{ padding: var(--space-3); font-size:14px; }
.modal-footer{
  padding: var(--space-2) 16px; display:flex; gap: var(--space-2); justify-content:flex-end; border-top:1px solid var(--ring);
}

/* ===== Modal Animations ===== */
.modal-backdrop{
  opacity: 0;
  transition: opacity .18s ease-out;
}
.modal-backdrop.is-visible{
  opacity: 1;
}

/* Panel animasi: muncul naik sedikit + fade */
.modal > *{
  transform: translateY(8px) scale(.98);
  opacity: 0;
  transition: transform .22s ease-out, opacity .22s ease-out, box-shadow .22s ease-out;
}
.modal.is-visible > *{
  transform: none;
  opacity: 1;
}


  /* === Form action row (Add / Cancel) === */
  .actions-row{display:flex;gap: var(--space-2);width:100%;justify-content:flex-end}
  .actions-row.editing{justify-content:space-between}
  .actions-row .btn{min-width:120px}
  .actions-row.editing .btn{flex:1;max-width:220px}
  #cancelEditBtn{order:0}
  #addBtn{order:1}


  .actions-row.editing #cancelEditBtn {
    flex: 0 0 auto;
    max-width: none;
    padding: 0 16px;
  }


/* === Daily Graph styles === */
.graph-tooltip {
  position: absolute;
  pointer-events: none;
  font-size: 12px;
  background: var(--card2);
  color: var(--text);
  border: 1px solid var(--ring);
  border-radius: 8px;
  padding: var(--space-1) 8px;
  box-shadow: var(--shadow);
  transform: translate(-50%, -120%);
  white-space: nowrap;
  z-index: 10;
}
#graphCard.pulse {
  box-shadow: 0 0 0 0 rgba(110,168,254,.8);
  animation: pulseCard 1.2s ease-out 2;
}
@keyframes pulseCard {
  0% { box-shadow: 0 0 0 0 rgba(110,168,254,.7); }
  100% { box-shadow: 0 0 0 18px rgba(110,168,254,0); }
}

/* === Compact spacing for graph === */
#graphCard {
  padding: 8px 12px !important;
}
#graphCard .mini.subtle {
  font-size: 11px !important;
}
#graphCard canvas { width: 100% !important; height: auto !important; aspect-ratio: 16 / 6; }
.spacer {
  height: var(--ctrl-h) !important;
}

/* === Fix Harga column in Jasa & Aksesoris table === */
#jasaTable2x5 td:last-child,
#jasaTable2x5 th:last-child {
  min-width: 100px;
  text-align: right;
}
#jasaTable2x5 input.jasa-price {
  text-align: right;
  width: 100%;
  box-sizing: border-box;
}

/* === Clean & stable layout for Jasa & Aksesoris table === */
#jasaTable2x5{
  table-layout: fixed;              /* prevent jitter */
}
#jasaTable2x5 input.jasa-price{
  text-align: right;
  width: 100%;
  padding-right: 8px;
}
#jasaTable2x5 .jasa-note{
  width: 100%;
}
#jasaTable2x5 .jasa-type{
  width: 100%;
}

/* Keep other tables unaffected */

/* === Proportional layout for Jasa & Aksesoris table === */
#jasaTable2x5{
  table-layout: fixed;
  width: 100%;
}
#jasaTable2x5 th, #jasaTable2x5 td{
  vertical-align: middle;
}
#jasaTable2x5 td:nth-child(4), #jasaTable2x5 th:nth-child(4){
  text-align: right;
}
#jasaTable2x5 input.jasa-price{
  text-align: right;
  width: 100%;
  padding-right: 8px;
}
#jasaTable2x5 .jasa-note{
  width: 100%;
}
#jasaTable2x5 .jasa-type{
  width: 100%;
}

/* === Match proportions to Rincian Pemasukan Jajanan === */
#jasaTable2x5{
  table-layout: fixed;
  width: 100%;
}
#jasaTable2x5 th, #jasaTable2x5 td{
  vertical-align: middle;
}
#jasaTable2x5 td:nth-child(4), #jasaTable2x5 th:nth-child(4){
  text-align: right;
}
#jasaTable2x5 input.jasa-price{
  text-align: right;
  width: 100%;
  padding-right: 8px;
}
#jasaTable2x5 .jasa-note{
  width: 100%;
}
#jasaTable2x5 .jasa-type{
  width: 100%;
}

/* === Exact proportions for Jasa & Aksesoris table === */
#jasaTable2x5{
  table-layout: fixed;
  width: 100%;
}
#jasaTable2x5 th, #jasaTable2x5 td{
  vertical-align: middle;
}
#jasaTable2x5 td:nth-child(4), #jasaTable2x5 th:nth-child(4){
  text-align: right;
}
#jasaTable2x5 input.jasa-price{
  text-align: right;
  width: 100%;
  padding-right: 8px;
}
#jasaTable2x5 .jasa-note{
  width: 100%;
}
#jasaTable2x5 .jasa-type{
  width: 100%;
}

/* === Harga input left aligned === */
#jasaTable2x5 input.jasa-price{
  text-align: left !important;
}

/* === Right-aligned helper for notes === */
.auto-note{ margin-left:auto; text-align:left;  white-space:nowrap;}
/** Footer rows alignment for new totals **/
#table tfoot .total-row td:first-child{ text-align:left; }

/* === Filter Card (square-rounded, precise) === */
.filter-card{ border-radius: calc(var(--radius) * 2); background:var(--card2); border:1px solid var(--ring); }
.filter-grid{ display:grid; grid-template-columns: 140px 1fr; gap: var(--space-2) 16px; align-items:center; }
.filter-grid .f-row{ display:contents; } /* allow label + control align on same row */
.filter-grid label{ font-size:14px; color:var(--muted); font-weight:600; }
.filter-card .select, .filter-card .input{ height: var(--ctrl-h); border-radius: var(--radius); }
.filter-card .range-wrap{ display:flex; flex-wrap:wrap; gap: var(--space-2); align-items:center; }
.filter-card .range-wrap .input{ width:180px; }
.filter-card .range-wrap .sep{ color:var(--muted); min-width:24px; text-align:center; }
.filter-card .btn{ height: var(--ctrl-h); border-radius: var(--radius); padding:0 14px; }
@media (max-width: 700px){
  .filter-grid{ grid-template-columns: 1fr; }
  .filter-grid label{ margin-bottom:4px; }
  .filter-card .range-wrap{ gap:8px; }
  .filter-card .range-wrap .input{ flex:1 1 160px; min-width:0; }
  .filter-card .btn{ flex:1 1 auto; }
  .filter-card .sep{ order:2; } /* keep natural reading on wrap */
}


.g2 { 
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: var(--space-2);
}
.g4 { 
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: var(--space-2);
}

/* Responsif */
@media (max-width: 900px) {
  .g2 { grid-template-columns: 1fr; }
  .g4 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
}
}

.g2 { display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap: var(--space-2); }

/* === Responsive Typography (8pt Grid System) === */
:root {
  --font-xs: 12px;
  --font-sm: 14px;
  --font-md: 16px;
  --font-lg: 20px;
  --font-xl: 24px;
  --font-2xl: 32px;
}

/* Base text */
body {
  font-size: var(--font-md);
  line-height: 1.5;
}

/* Titles */
.title {
  font-size: var(--font-xl);
  font-weight: 800;
  line-height: 1.3;
}
.subtitle {
  font-size: var(--font-sm);
}

/* Table text */
th, td {
  font-size: var(--font-sm);
}

/* Small labels and notes */
label, .mini, .note, .subtle {
  font-size: var(--font-xs);
}

/* Responsive adjustments */
@media (max-width: 900px) {
  body { font-size: var(--font-sm); }
  .title { font-size: var(--font-lg); }
}
@media (max-width: 600px) {
  body { font-size: var(--font-sm); }
  .title { font-size: 18px; } /* mobile-friendly */
  .subtitle { font-size: var(--font-xs); }
  th, td { font-size: var(--font-xs); }
}


/* === Fluid Typography & Spacing (8pt Grid System with clamp) === */
:root {
  --space-1: clamp(4px, 0.5vw, 6px);
  --space-2: clamp(8px, 1vw, 12px);
  --space-3: clamp(16px, 2vw, 20px);
  --space-4: clamp(24px, 3vw, 32px);
  --space-5: clamp(32px, 4vw, 40px);
  --ctrl-h: clamp(36px, 5vw, 48px);
  --radius: 8px;
}

/* Typography */
body { font-size: clamp(14px, 1.6vw, 16px); line-height: 1.5; }
.title { font-size: clamp(20px, 3vw, 32px); font-weight: 800; line-height: 1.3; }
.subtitle { font-size: clamp(12px, 1.4vw, 16px); }
th, td { font-size: clamp(12px, 1.4vw, 14px); }
label, .mini, .note, .subtle { font-size: clamp(11px, 1.2vw, 12px); }

/* Buttons & Inputs */
.input, .select, .btn, textarea {
  min-height: var(--ctrl-h);
  border-radius: var(--radius);
  padding: 0 var(--space-2);
  font-size: inherit;
}

/* Card & Grid Spacing */
.card .pad, .subcard .pad { padding: var(--space-3); }
.grid, .row { gap: var(--space-2); }
.spacer { height: var(--space-3); }

/* Table padding */
th, td { padding: var(--space-2); vertical-align: middle; }
.table-sm th, .table-sm td { padding: var(--space-1) var(--space-2); }

/* Graph fix (aspect ratio, responsive) */
#graphCard canvas { width: 100% !important; height: auto !important; aspect-ratio: 16 / 6; }


/* === Fix: Konsistensi kolom "No." di semua tabel rincian === */
#rincianTable th:first-child, #rincianTable td:first-child,
#jajananTable3x10 th:first-child, #jajananTable3x10 td:first-child,
#jasaTable2x5 th:first-child, #jasaTable2x5 td:first-child,
#sewaTable3x10 th:first-child, #sewaTable3x10 td:first-child {
  width: 48px;
  min-width: 48px;
  max-width: 48px;
  text-align: center;
}


/* === Fix v2: Konsistensi & Simetris kolom "No." di semua tabel rincian === */
#rincianTable th:first-child, #rincianTable td:first-child,
#jajananTable3x10 th:first-child, #jajananTable3x10 td:first-child,
#jasaTable2x5 th:first-child, #jasaTable2x5 td:first-child,
#sewaTable3x10 th:first-child, #sewaTable3x10 td:first-child {
  box-sizing: border-box;
  width: 48px;
  min-width: 48px;
  max-width: 48px;
  text-align: center;
  padding-left: 0;
  padding-right: 0;
}




/* === UI Polishing: consistent proportions & spacing === */
:root{
  --space-1:8px;
  --space-2:12px;
  --space-3:16px;
  --space-4:20px;
  --ctrl-h:40px;
  --radius:12px;
}

/* normalize gaps */
.row{ gap: var(--space-2) !important; }
.grid{ gap: var(--space-2) !important; }
.spacer{ height: var(--space-3) !important; }

/* cards & subcards padding symmetry */
.card .pad, .subcard .pad{ padding: var(--space-3) !important; }
.card, .subcard{ border-radius: calc(var(--radius) * 2) !important; }

/* controls: same height/padding/radius */
.input, .select, .btn, textarea{
  min-height: var(--ctrl-h);
  border-radius: var(--radius);
  padding-top: 8px; padding-bottom: 8px;
}
textarea{ padding-top: 10px; padding-bottom: 10px; }

/* pills: ensure same inner heights and spacing */
.pill{ gap: var(--space-1) !important; }
.pill select, .pill input[type="date"], .pill button{
  height: calc(var(--ctrl-h) - 4px) !important;
  line-height: calc(var(--ctrl-h) - 4px);
  padding: 0 10px !important;
  border-radius: 8px;
}

/* tables: consistent density & alignment */
.table-sm th, .table-sm td{ padding: var(--space-2) 12px !important; }
th, td{ vertical-align: middle; }
th:first-child, td:first-child{ text-align: left; }

/* top form: keep clean spacing & alignment */
.container .card .grid > div label{ margin-bottom: 6px !important; }
.container .card .grid input.input{ width: 100%; }

/* action row: same spacing left-right when editing */
.actions-row{ gap: var(--space-2) !important; }
.actions-row.editing{ justify-content: space-between !important; }
#cancelEditBtn{ margin-right: auto; } /* keep "Batal" on the left */

/* ensure graph & footer spacing is even */
#graphCard{ margin-top: var(--space-3); }
#graphCard + div{ margin-top: var(--space-3) !important; } /* footer wrapper */

/* Jasa & Aksesoris proportions (already set via colgroup) + clean inputs */
#jasaTable2x5 input.jasa-price{ text-align: left !important; }
#jasaTable2x5 colgroup col:nth-child(2),
#jasaTable2x5 colgroup col:nth-child(3),
#jasaTable2x5 colgroup col:nth-child(4){ width:31.6% !important; }

/* prevent layout jump on inputs (tabular) */
.mono{ font-variant-numeric: tabular-nums; }

/* responsive: stack cleanly on small screens */
@media(max-width:900px){
  .header{ align-items: flex-start; }
}
@media(max-width:600px){
  .row{ gap: var(--space-1) !important; }
  .btn{ min-width: auto; }
}



/* ===== Mobile polish (safe, symmetric, no-left-stretch) ===== */
html, body { overflow-x: hidden; }

/* Safe-area padding for phones with notches + equal side padding */
.container{
  padding-left: max(16px, env(safe-area-inset-left));
  padding-right: max(16px, env(safe-area-inset-right));
}

/* Header buttons wrap neatly */
.header{ flex-wrap: wrap; gap: 8px; }
.header .row{
  flex-wrap: wrap;
  margin-left: auto;          /* push actions to the right on wide screens */
  justify-content: flex-end;
  gap: 8px;
}

/* Top form grid: 5 -> 2 -> 1 columns responsively */
.g5{ grid-template-columns: repeat(5, minmax(0, 1fr)); }
@media (max-width: 900px){
  .g5{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
}
@media (max-width: 600px){
  .g5{ grid-template-columns: 1fr; }
  .title{ font-size: 22px; line-height: 1.2; }
  .header .row{ width: 100%; margin-left: 0; justify-content: flex-start; }
}

/* Make pills/filters not stretch awkwardly on mobile */
.pill{ width: 100%; max-width: 100%; }
@media (min-width: 601px){
  .pill{ width: auto; }
}

/* Smooth scrolling for in-app navigation */
html { scroll-behavior: smooth; }

/* === Merged Filter + Rentang pill === */
.pill-merged{
  display:flex;
  align-items:center;
  gap: var(--space-2);
  padding:8px 12px;
  background:var(--card2);
  border:1px solid var(--ring);
  border-radius:999px;
}
.pill-merged .seg{
  display:flex;
  align-items:center;
  gap:8px;
  flex-wrap:wrap;
}
.pill-merged .divider{
  width:1px;
  align-self:stretch;
  background:var(--ring);
  opacity:.6;
}
/* Make the merged pill full-width on small screens for symmetry */
@media (max-width: 600px){
  .pill-merged{ width:100%; }
}


/* === Toolbar polish: consistent heights & tidy wrap === */
.toolbar-row{
  display:flex;
  flex-wrap:wrap;
  gap: var(--space-2);
  align-items:center;
}
.toolbar-row .pill,
.toolbar-row .pill-merged{
  min-height: calc(var(--ctrl-h) + 4px);
}
/* Metric pill (for totals) */
.pill.metric{
  display:flex;
  align-items:center;
  gap: var(--space-2);
  padding:8px 12px;
  background:var(--card2);
  border:1px solid var(--ring);
  border-radius:999px;
}
.pill.metric .label{
  font-size:12px;
  color:var(--muted);
}
.pill.metric .value{
  font-weight:800;
  font-variant-numeric: tabular-nums;
}
/* Keep danger button aligned in the pill */
.pill.metric .btn{
  height: calc(var(--ctrl-h) - 4px) !important;
  line-height: calc(var(--ctrl-h) - 4px);
  padding: 0 12px !important;
  border-radius: 8px;
}

/* Responsive: make items fill nicely on small screens */
@media (max-width: 900px){
  .toolbar-row > *{ flex:1 1 auto; }
}
@media (max-width: 600px){
  .toolbar-row .pill-merged,
  .toolbar-row .pill.metric{
    width:100%;
  }
}


/* === Catatan & Button precise alignment === */
.catatan-row {
  display: flex;
  gap: var(--space-2);
  align-items: flex-end;
}

.catatan-wrap {
  flex: 1; /* Catatan takes all free space */
}

.actions-wrap {
  flex: 0 0 auto; /* Button only as wide as needed */
}

#formActions {
  display: flex;
  justify-content: flex-end;
  gap: 8px;
}

@media (max-width: 600px) {
  .catatan-row {
    flex-direction: column;
    align-items: stretch;
  }
  .actions-wrap {
    width: 100%;
  }
  #formActions {
    justify-content: flex-start;
  }
}



#jajananSettingsModal .modal-body {
  max-height: 80vh;
  overflow-y: auto;
}
#jajananSettingsModal table {
  width: 100%;
  border-collapse: collapse;
}
#jajananSettingsModal th, #jajananSettingsModal td {
  padding: var(--space-1);
  border-bottom: 1px solid var(--ring);
}



#popupBackdrop {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(4px);
    opacity: 0;
    transition: opacity 0.2s ease-in-out;
    z-index: 1000;
}
#popupBackdrop.is-visible {
    opacity: 1;
}
.modal {
    z-index: 1001;
}



.settings-sidebar .btn {
    display: flex;
    align-items: center;
    justify-content: flex-start;
    gap: var(--space-2);
    width: 100%;
    text-align: left;
    padding: var(--space-2) 18px;
    border: 2px solid var(--ring);
    border-radius: 8px;
    background: var(--card2);
    font-size: 14px;
    white-space: nowrap;
    transition: background 0.2s, color 0.2s;
}
.settings-sidebar .btn span.emoji {
    flex-shrink: 0;
    font-size: 18px;
    line-height: 1;
}
.settings-sidebar .btn:hover {
    background: var(--hover);
}
.settings-sidebar .btn.active {
    background: #1C308A;
    color: #fff;
    border-color: #1C308A;
}



  /* Header tetap tengah */
  table th {
    text-align: center !important;
  }

  /* Default isi tabel kiri */
  table td {
    text-align: left !important;
  }

  /* Angka uang kanan */
  table td.mono,
  table td.right,
  #rincianTotal, #jajananTotal3x10, #jasaTotal2x5, #sewaTotal3x10,
  #recapBar .value, #grandTotal,
  #sumHarian, #sumJajanan, #sumJasa, #sumSewa, #sumTotal, #sumMonth, #sumAll {
    text-align: right !important;
  }

  /* Label TOTAL & TOTAL KESELURUHAN tetap kiri */
  .total-row td:first-child,
  .total-row td[colspan] {
    text-align: left !important;
  }



  /* Pastikan baris TOTAL rapih dan simetris */
  .total-row td {
    font-weight: 800;
  }
  .total-row td[colspan] {
    text-align: left !important;
  }
  .total-row td.mono {
    text-align: right !important;
    min-width: 120px; /* jaga konsistensi lebar kolom harga */
  }



.settings-layout { display:flex; gap:16px; min-height: var(--ctrl-h); }
.settings-sidebar { flex:0 0 200px; background:var(--card2); border:1px solid var(--ring); border-radius: var(--radius); padding:8px; display:flex; flex-direction:column; gap: var(--space-1); }
.settings-sidebar .btn { justify-content:flex-start; }
.settings-content { flex:1; display:flex; flex-direction:column; gap: var(--space-2); }
.settings-tab[hidden] { display:none !important; }
@media(max-width:600px){
  .settings-layout { flex-direction:column; }
  .settings-sidebar { flex:0 0 auto; }
}

/* === UX ENHANCEMENTS === */
/* Hover & Active Buttons */
.btn {
  transition: transform 0.15s ease, filter 0.15s ease, background-color 0.25s ease;
}
.btn:hover {
  filter: brightness(1.05);
  transform: translateY(-1px);
}
.btn:active {
  transform: translateY(1px) scale(0.98);
}

/* Hover row on table */
table tbody tr {
  transition: background-color 0.2s ease;
}
table tbody tr:hover {
  background-color: rgba(110,168,254,0.08);
}

/* Sticky header for scrollable tables */
table thead th {
  position: sticky;
  top: 0;
  background: var(--card);
  z-index: 2;
}

/* Smooth theme transition */
body, .card, .subcard, .modal > * {
  transition: background-color 0.25s ease, color 0.25s ease, border-color 0.25s ease;
}

/* Modal open animation */
.modal > * {
  opacity: 0;
  transform: translateY(10px) scale(0.98);
  transition: opacity 0.25s ease, transform 0.25s ease;
}
.modal.is-visible > * {
  opacity: 1;
  transform: translateY(0) scale(1);
}


/* Focus-visible styles for accessibility */
button:focus-visible,
.btn:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
  box-shadow: 0 0 0 3px rgba(110,168,254,0.5);
}


/* === History Table UI Polishing === */
#table {
  width: 100%;
  border-collapse: collapse;
}
#table th, #table td {
  padding: var(--space-2) 12px;
  vertical-align: middle;
}
#table th {
  color: var(--muted);
  font-size: 13px;
  background: var(--card2);
}
#table tbody tr:hover {
  background-color: rgba(110, 168, 254, 0.08);
}
/* Tombol Edit dan Hapus */
#table .btn {
  padding: var(--space-1) 10px;
  font-size: 12px;
  border-radius: 8px;
  min-width: 50px;
}
#table .btn.warn {
  background: #d93025 !important;
  border-color: #a12016 !important;
  color: #fff !important;
}
#table .btn.warn:hover {
  filter: brightness(1.1);
}
/* Responsif */
@media (max-width: 600px) {
  #table th, #table td {
    padding: 8px 6px;
    font-size: 12px;
  }
  #table .btn {
    padding: 4px 8px;
    font-size: 11px;
  }
}
